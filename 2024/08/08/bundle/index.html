
<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="utf-8" />
    <title>bundle | Ye&#39;s Blog</title>
    <meta name="author" content="Liu Ye" />
    <meta name="description" content="前端小菜鸡" />
    <meta name="keywords" content="" />
    <meta
        name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"
    />
    <link rel="icon" href="/PersonalBlog/images/avatar.jpg" />
    <link rel="preconnect" href="https://s4.zstatic.net" />
<script src="https://s4.zstatic.net/ajax/libs/vue/3.3.7/vue.global.prod.min.js"></script>
<link rel="stylesheet" href="https://s4.zstatic.net/ajax/libs/font-awesome/6.4.2/css/all.min.css" />
<link rel="preconnect" href="https://fonts.googleapis.cn" />
<link rel="preconnect" href="https://fonts.gstatic.cn" crossorigin />
<link
    rel="stylesheet"
    href="https://fonts.googleapis.cn/css2?family=Fira+Code:wght@400;500;600;700&family=Lexend:wght@400;500;600;700;800;900&family=Noto+Sans+SC:wght@400;500;600;700;800;900&display=swap"
/>
<script> const mixins = {}; </script>

<script src="https://polyfill.alicdn.com/v3/polyfill.min.js?features=default"></script>


<script src="https://s4.zstatic.net/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script src="https://s4.zstatic.net/ajax/libs/highlightjs-line-numbers.js/2.8.0/highlightjs-line-numbers.min.js"></script>
<link
    rel="stylesheet"
    href="https://s4.zstatic.net/ajax/libs/highlight.js/11.9.0/styles/github.min.css"
/>
<script src="/PersonalBlog/js/lib/highlight.js"></script>



<script src="/PersonalBlog/js/lib/preview.js"></script>









<link rel="stylesheet" href="/PersonalBlog/css/main.css" />

<meta name="generator" content="Hexo 7.3.0"></head>
<body>
    <div id="layout">
        <transition name="fade">
            <div id="loading" v-show="loading">
                <div id="loading-circle">
                    <h2>LOADING</h2>
                    <p>加载过慢请开启缓存 浏览器默认开启</p>
                    <img src="/PersonalBlog/images/loading.gif" />
                </div>
            </div>
        </transition>
        <div id="menu" :class="{ hidden: hiddenMenu, 'menu-color': menuColor}">
    <nav id="desktop-menu">
        <a class="title" href="/PersonalBlog/">
            <span>YE&#39;S BLOG</span>
        </a>
        
        <a href="/PersonalBlog/">
            <i class="fa-solid fa-house fa-fw"></i>
            <span>&ensp;Home</span>
        </a>
        
        <a href="/PersonalBlog/about">
            <i class="fa-solid fa-id-card fa-fw"></i>
            <span>&ensp;About</span>
        </a>
        
        <a href="/PersonalBlog/archives">
            <i class="fa-solid fa-box-archive fa-fw"></i>
            <span>&ensp;Archives</span>
        </a>
        
        <a href="/PersonalBlog/categories">
            <i class="fa-solid fa-bookmark fa-fw"></i>
            <span>&ensp;Categories</span>
        </a>
        
        <a href="/PersonalBlog/tags">
            <i class="fa-solid fa-tags fa-fw"></i>
            <span>&ensp;Tags</span>
        </a>
        
    </nav>
    <nav id="mobile-menu">
        <div class="title" @click="showMenuItems = !showMenuItems">
            <i class="fa-solid fa-bars fa-fw"></i>
            <span>&emsp;YE&#39;S BLOG</span>
        </div>
        <transition name="slide">
            <div class="items" v-show="showMenuItems">
                
                <a href="/PersonalBlog/">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-house fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Home</div>
                    </div>
                </a>
                
                <a href="/PersonalBlog/about">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-id-card fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">About</div>
                    </div>
                </a>
                
                <a href="/PersonalBlog/archives">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-box-archive fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Archives</div>
                    </div>
                </a>
                
                <a href="/PersonalBlog/categories">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-bookmark fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Categories</div>
                    </div>
                </a>
                
                <a href="/PersonalBlog/tags">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-tags fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Tags</div>
                    </div>
                </a>
                
            </div>
        </transition>
    </nav>
</div>
<transition name="fade">
    <div id="menu-curtain" @click="showMenuItems = !showMenuItems" v-show="showMenuItems"></div>
</transition>

        <div id="main" :class="loading ? 'into-enter-from': 'into-enter-active'">
            <div class="article">
    <div>
        <h1>bundle</h1>
    </div>
    <div class="info">
        <span class="date">
            <span class="icon">
                <i class="fa-solid fa-calendar fa-fw"></i>
            </span>
            2024/8/8
        </span>
        
        
        <span class="tags">
            <span class="icon">
                <i class="fa-solid fa-tags fa-fw"></i>
            </span>
            
            
            <span class="tag">
                
                <a href="/PersonalBlog/tags/%E5%B7%A5%E7%A8%8B%E5%8C%96/" style="color: #ffa2c4">
                    工程化
                </a>
            </span>
            
            <span class="tag">
                
                <a href="/PersonalBlog/tags/bundle/" style="color: #03a9f4">
                    bundle
                </a>
            </span>
            
        </span>
        
    </div>
    
    <div class="content" v-pre>
        <h1 id="诞生的原因"><a href="#诞生的原因" class="headerlink" title="诞生的原因"></a>诞生的原因</h1><p>官方支持的 import 和 export 这种同步加载方式目前在大多数浏览器中无法使用<br>详情见 mdn 文档的浏览器兼容性部分<br><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Modules#%E6%A8%A1%E5%9D%97%E5%8C%96%E7%9A%84%E8%83%8C%E6%99%AF">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Modules#%E6%A8%A1%E5%9D%97%E5%8C%96%E7%9A%84%E8%83%8C%E6%99%AF</a></p>
<h1 id="Bundler-是什么"><a href="#Bundler-是什么" class="headerlink" title="Bundler 是什么"></a>Bundler 是什么</h1><p>打包工具，将浏览器不支持的模块进行编译，转换，合并最后生成的代码可以在浏览器端良好的运行的工具</p>
<h1 id="有哪些打包工具"><a href="#有哪些打包工具" class="headerlink" title="有哪些打包工具"></a>有哪些打包工具</h1><h3 id="Webpack"><a href="#Webpack" class="headerlink" title="Webpack"></a>Webpack</h3><p>Webpack 是一个功能强大且广泛使用的打包工具，支持多种资源类型的打包，如 JavaScript、CSS、图片等。它具有代码拆分、代码压缩、热模块替换等开箱即用的功能，适合构建高性能的 Web 应用。Webpack 的生态系统庞大，插件丰富，但配置相对复杂，构建速度可能较慢。</p>
<h3 id="Rollup"><a href="#Rollup" class="headerlink" title="Rollup"></a>Rollup</h3><p>Rollup 是一个专注于 ES6 模块的打包工具，特别适用于构建 JavaScript 库和组件。它支持 Tree Shaking，可以自动剔除未使用的代码，减少打包后的文件体积。Rollup 原生支持 ES 模块，但处理 CommonJS 和 UMD 模块时可能需要复杂配置。</p>
<h3 id="Vite"><a href="#Vite" class="headerlink" title="Vite"></a>Vite</h3><p>Vite 是一个新兴的前端构建工具，它在开发环境下使用原生 ES 模块导入（ESM）和高效的开发服务器，实现快速的冷启动和热更新。Vite 在生产环境下则使用 Rollup 进行打包，支持 Tree Shaking 和 ESM。Vite 的配置简单，启动速度快，但社区活跃度和生态丰富度相比 Webpack 还有一定的差距。</p>
<h1 id="上面提到了一些模块定义规范，顺便介绍一些模块化的历史方便理解"><a href="#上面提到了一些模块定义规范，顺便介绍一些模块化的历史方便理解" class="headerlink" title="上面提到了一些模块定义规范，顺便介绍一些模块化的历史方便理解"></a>上面提到了一些模块定义规范，顺便介绍一些模块化的历史方便理解</h1><h2 id="1-模块是什么"><a href="#1-模块是什么" class="headerlink" title="1. 模块是什么"></a>1. 模块是什么</h2><pre><code class="javascript">   import ... from ...
   export default ...
</code></pre>
<h2 id="2-模块化有哪些优点，为什么要模块化"><a href="#2-模块化有哪些优点，为什么要模块化" class="headerlink" title="2. 模块化有哪些优点，为什么要模块化"></a>2. 模块化有哪些优点，为什么要模块化</h2><ul>
<li>可维护性</li>
<li>可复用性</li>
</ul>
<h2 id="3-在-ES6-之前没有模块的年代是怎么做的"><a href="#3-在-ES6-之前没有模块的年代是怎么做的" class="headerlink" title="3. 在 ES6 之前没有模块的年代是怎么做的"></a>3. 在 ES6 之前没有模块的年代是怎么做的</h2><pre><code class="javascript">// 使用古老的 backbone.js
&lt;script src=&quot;todos.js&quot;&gt;&lt;/script&gt;
// 通过标签引入的方式
</code></pre>
<h2 id="4-为了解决没有模块的问题，开发者提出了一系列规范和约定来实现模块化的特征，大致分为了三个阶段"><a href="#4-为了解决没有模块的问题，开发者提出了一系列规范和约定来实现模块化的特征，大致分为了三个阶段" class="headerlink" title="4. 为了解决没有模块的问题，开发者提出了一系列规范和约定来实现模块化的特征，大致分为了三个阶段"></a>4. 为了解决没有模块的问题，开发者提出了一系列规范和约定来实现模块化的特征，大致分为了三个阶段</h2><h3 id="一阶段，称为全局变量-命名空间（namespace）"><a href="#一阶段，称为全局变量-命名空间（namespace）" class="headerlink" title="一阶段，称为全局变量 + 命名空间（namespace）"></a>一阶段，称为全局变量 + 命名空间（namespace）</h3><p>一个项目中基于同一个全局变量，各个模块按照自己的命名空间进行挂载，jquery 等较早时期的项目就使用了这种做法。</p>
<pre><code class="javascript">// IIFE 自执行函数，创建一个封闭的作用域，赋值给一个全局变量
var namesCollection = (function () &#123;
  // private members
  var objects = [];
  // public method
  function addObject(object) &#123;
    object.push(object);
  &#125;
  return &#123;
    addName: addObject,
  &#125;;
&#125;)();
namesCollection.addName(&quot;viking&quot;);
</code></pre>
<p>缺点：</p>
<ul>
<li>依赖全局变量，污染全局作用域，不安全</li>
<li>依赖约定命名空间来避免冲突，可靠性不高</li>
<li>需要手动管理依赖并控制执行顺序，很容易出错</li>
<li>需要最终上线前手动合并所有用到的模块</li>
</ul>
<h3 id="二阶段，Common-js"><a href="#二阶段，Common-js" class="headerlink" title="二阶段，Common.js"></a>二阶段，Common.js</h3><p>nodejs 推出的时候，开发出了自己的模块化系统，称为 commonJS</p>
<pre><code class="javascript">const bar = require(&quot;./bar&quot;);
module.exports = function () &#123;&#125;;
</code></pre>
<ul>
<li>只是为服务器端使用的，不符合浏览器的标准，没法在浏览器里直接运行</li>
</ul>
<h3 id="三阶段，AMD（Asynchronous-module-definition）"><a href="#三阶段，AMD（Asynchronous-module-definition）" class="headerlink" title="三阶段，AMD（Asynchronous module definition）"></a>三阶段，AMD（Asynchronous module definition）</h3><p>在 commonJS 推出之后，前端工程师们想有一种在浏览器中可以用的模块化方法，于是产生了一种类似 commonjs 的格式，称之为 AMD</p>
<ul>
<li>采用异步方式加载模块</li>
<li>只需要在全局环境中定义 require 和 define，不需要其他的全局变量</li>
<li>通过文件路径或模块自己声明的模块名来定位模块</li>
<li>提供了打包工具自动分析依赖并合并</li>
<li>配合特定的 AMD 加载器使用，RequireJS</li>
<li>同时还诞生了很多类似的模块标准 CMD(阿里发明的，加载器是 seajs)<br>AMD 和 CMD 当时是竞争关系<br>define(function(require) {<br>&#x2F;&#x2F; 通过相对路径获取依赖模块<br>const bar &#x3D; require(‘.&#x2F;bar’)<br>&#x2F;&#x2F; 模块产出<br>return function() {<br>}<br>})</li>
</ul>
<h2 id="5-最终，JS-官方终于出手，提供了当前公认的模块化标准-ES6-modules"><a href="#5-最终，JS-官方终于出手，提供了当前公认的模块化标准-ES6-modules" class="headerlink" title="5. 最终，JS 官方终于出手，提供了当前公认的模块化标准 ES6 modules"></a>5. 最终，JS 官方终于出手，提供了当前公认的模块化标准 ES6 modules</h2><pre><code class="javascript">import bar from &quot;./bar&quot;;
export default function () &#123;&#125;
</code></pre>
<ul>
<li>引入和暴露的方式更加多样</li>
<li>同时支持复杂的静态分析（treeShaking）</li>
<li>和 commonjs 一样，部分浏览器不支持这种语法</li>
<li>许多最新版的浏览器目前支持了这种语法，所以 vite 采用了两种方式，将生产环境和开发环境分开，开发环境使用 ESmodule，生产环境会使用 Bundler 进行打包</li>
</ul>
<h1 id="于是，为了代码能兼容各种浏览器，Bundler-应运而生，话题回到我们刚才提的打包工具"><a href="#于是，为了代码能兼容各种浏览器，Bundler-应运而生，话题回到我们刚才提的打包工具" class="headerlink" title="于是，为了代码能兼容各种浏览器，Bundler 应运而生，话题回到我们刚才提的打包工具"></a>于是，为了代码能兼容各种浏览器，Bundler 应运而生，话题回到我们刚才提的打包工具</h1><p>他们的本质功能就是处理这些 ES6 的模块代码，生成浏览器可以识别的代码</p>
<h1 id="注：UMD、AMD、CMD-的关系"><a href="#注：UMD、AMD、CMD-的关系" class="headerlink" title="注：UMD、AMD、CMD 的关系"></a>注：UMD、AMD、CMD 的关系</h1><h2 id="1-AMD-Asynchronous-Module-Definition"><a href="#1-AMD-Asynchronous-Module-Definition" class="headerlink" title="1. AMD(Asynchronous Module Definition)"></a>1. AMD(Asynchronous Module Definition)</h2><ul>
<li>AMD 是 RequireJS 提出的模块定义方式，主要用于浏览器环境。</li>
<li>它支持异步加载模块，即在需要时才加载模块，有助于提高页面加载性能。</li>
<li>AMD 模块使用 define 函数来定义模块，并通过 require 函数来异步加载依赖。</li>
</ul>
<h2 id="2-CMD-Common-Module-Definition"><a href="#2-CMD-Common-Module-Definition" class="headerlink" title="2. CMD(Common Module Definition)"></a>2. CMD(Common Module Definition)</h2><ul>
<li>CMD 是 Sea.js 提出的模块定义方式，同样主要用于浏览器环境。</li>
<li>它与 AMD 类似，支持异步加载，但定义模块的语法不同。</li>
<li>CMD 模块使用 define 函数定义模块，但依赖列表和模块实现是分开的，且依赖是同步加载的。</li>
</ul>
<h2 id="3-UMD-Universal-Module-Definition"><a href="#3-UMD-Universal-Module-Definition" class="headerlink" title="3. UMD(Universal Module Definition)"></a>3. UMD(Universal Module Definition)</h2><ul>
<li>UMD 是为解决多环境兼容性问题而设计的，它兼容 AMD、CommonJS（Node.js 的模块系统）以及作为全局变量使用。</li>
<li>UMD 通过条件判断来支持 AMD 和 CommonJS 模块定义方式，同时也可以作为普通的全局变量在脚本标签中使用。</li>
<li>因此，UMD 可以看作是 AMD 和 CommonJS 的一种“桥接”，使得模块可以在不同的 JavaScript 环境中无缝工作。</li>
</ul>
<h2 id="简单来说，UMD-包括-AMD-和-Commonjs，是他们两个的超集。"><a href="#简单来说，UMD-包括-AMD-和-Commonjs，是他们两个的超集。" class="headerlink" title="简单来说，UMD 包括 AMD 和 Commonjs，是他们两个的超集。"></a>简单来说，UMD 包括 AMD 和 Commonjs，是他们两个的超集。</h2>
    </div>
    
    
    
    
    
    
    
</div>

            <footer id="footer">
    <div id="footer-wrap">
        <div>
            &copy;
            2022 - 2024 Ye&#39;s Blog
            <span id="footer-icon">
                <i class="fa-solid fa-font-awesome fa-fw"></i>
            </span>
            &commat;Liu Ye
        </div>
        <div>
            Based on the <a target="_blank" rel="noopener" href="https://hexo.io">Hexo Engine</a> &amp;
            <a target="_blank" rel="noopener" href="https://github.com/theme-particlex/hexo-theme-particlex">ParticleX Theme</a>
        </div>
        
    </div>
</footer>

        </div>
        
        <transition name="fade">
            <div id="preview" ref="preview" v-show="previewShow">
                <img id="preview-content" ref="previewContent" />
            </div>
        </transition>
        
    </div>
    <canvas
        id="fireworks"
        style="position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; pointer-events: none; z-index: 32767"
    ></canvas>
    <canvas
    id="background"
    style="position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; pointer-events: none; z-index: -1"
></canvas>
    <script src="https://s4.zstatic.net/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    <script src="/PersonalBlog/js/background.min.js"></script>
    <script src="/PersonalBlog/js/fireworks.min.js"></script>
    <script src="/PersonalBlog/js/main.js"></script>
    
    




    
</body>
</html>
